{
  "version": 3,
  "file": "ghost-dev.js",
  "sources": [
    ".tmp/ember-transpiled/assets/lib/touch-editor.js",
    ".tmp/ember-transpiled/assets/lib/uploader.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K",
  "sourcesContent": [
    "define(\"ghost/assets/lib/touch-editor\", \n  [\"exports\"],\n  function(__exports__) {\n    \"use strict\";\n    var createTouchEditor = function createTouchEditor() {\n        var noop = function () {},\n            TouchEditor;\n\n        TouchEditor = function (el, options) {\n            /*jshint unused:false*/\n            this.textarea = el;\n            this.win = { document : this.textarea };\n            this.ready = true;\n            this.wrapping = document.createElement('div');\n\n            var textareaParent = this.textarea.parentNode;\n            this.wrapping.appendChild(this.textarea);\n            textareaParent.appendChild(this.wrapping);\n\n            this.textarea.style.opacity = 1;\n        };\n\n        TouchEditor.prototype = {\n            setOption: function (type, handler) {\n                if (type === 'onChange') {\n                    $(this.textarea).change(handler);\n                }\n            },\n            eachLine: function () {\n                return [];\n            },\n            getValue: function () {\n                return this.textarea.value;\n            },\n            setValue: function (code) {\n                this.textarea.value = code;\n            },\n            focus: noop,\n            getCursor: function () {\n                return { line: 0, ch: 0 };\n            },\n            setCursor: noop,\n            currentLine: function () {\n                return 0;\n            },\n            cursorPosition: function () {\n                return { character: 0 };\n            },\n            addMarkdown: noop,\n            nthLine: noop,\n            refresh: noop,\n            selectLines: noop,\n            on: noop,\n            off: noop\n        };\n\n        return TouchEditor;\n    };\n\n    __exports__[\"default\"] = createTouchEditor;\n  });",
    "define(\"ghost/assets/lib/uploader\", \n  [\"ghost/utils/ghost-paths\",\"exports\"],\n  function(__dependency1__, __exports__) {\n    \"use strict\";\n    var ghostPaths = __dependency1__[\"default\"];\n\n    var UploadUi,\n        upload,\n        Ghost = ghostPaths();\n\n\n    UploadUi = function ($dropzone, settings) {\n        var $url = '<div class=\"js-url\"><input class=\"url js-upload-url\" type=\"url\" placeholder=\"http://\"/></div>',\n            $cancel = '<a class=\"image-cancel js-cancel\" title=\"Delete\"><span class=\"hidden\">Delete</span></a>',\n            $progress =  $('<div />', {\n                'class' : 'js-upload-progress progress progress-success active',\n                'role': 'progressbar',\n                'aria-valuemin': '0',\n                'aria-valuemax': '100'\n            }).append($('<div />', {\n                'class': 'js-upload-progress-bar bar',\n                'style': 'width:0%'\n            }));\n\n        $.extend(this, {\n            complete: function (result) {\n                var self = this;\n\n                function showImage(width, height) {\n                    $dropzone.find('img.js-upload-target').attr({'width': width, 'height': height}).css({'display': 'block'});\n                    $dropzone.find('.fileupload-loading').remove();\n                    $dropzone.css({'height': 'auto'});\n                    $dropzone.delay(250).animate({opacity: 100}, 1000, function () {\n                        $('.js-button-accept').prop('disabled', false);\n                        self.init();\n                    });\n                }\n\n                function animateDropzone($img) {\n                    $dropzone.animate({opacity: 0}, 250, function () {\n                        $dropzone.removeClass('image-uploader').addClass('pre-image-uploader');\n                        $dropzone.css({minHeight: 0});\n                        self.removeExtras();\n                        $dropzone.animate({height: $img.height()}, 250, function () {\n                            showImage($img.width(), $img.height());\n                        });\n                    });\n                }\n\n                function preLoadImage() {\n                    var $img = $dropzone.find('img.js-upload-target')\n                        .attr({'src': '', 'width': 'auto', 'height': 'auto'});\n\n                    $progress.animate({'opacity': 0}, 250, function () {\n                        $dropzone.find('span.media').after('<img class=\"fileupload-loading\"  src=\"' + Ghost.subdir + '/ghost/img/loadingcat.gif\" />');\n                        if (!settings.editor) {$progress.find('.fileupload-loading').css({'top': '56px'}); }\n                    });\n                    $dropzone.trigger('uploadsuccess', [result]);\n                    $img.one('load', function () {\n                        animateDropzone($img);\n                    }).attr('src', result);\n                }\n                preLoadImage();\n            },\n\n            bindFileUpload: function () {\n                var self = this;\n\n                $dropzone.find('.js-fileupload').fileupload().fileupload('option', {\n                    url: Ghost.subdir + '/ghost/api/v0.1/uploads/',\n                    add: function (e, data) {\n                        /*jshint unused:false*/\n                        $('.js-button-accept').prop('disabled', true);\n                        $dropzone.find('.js-fileupload').removeClass('right');\n                        $dropzone.find('.js-url').remove();\n                        $progress.find('.js-upload-progress-bar').removeClass('fail');\n                        $dropzone.trigger('uploadstart', [$dropzone.attr('id')]);\n                        $dropzone.find('span.media, div.description, a.image-url, a.image-webcam')\n                            .animate({opacity: 0}, 250, function () {\n                                $dropzone.find('div.description').hide().css({'opacity': 100});\n                                if (settings.progressbar) {\n                                    $dropzone.find('div.js-fail').after($progress);\n                                    $progress.animate({opacity: 100}, 250);\n                                }\n                                data.submit();\n                            });\n                    },\n                    dropZone: settings.fileStorage ? $dropzone : null,\n                    progressall: function (e, data) {\n                        /*jshint unused:false*/\n                        var progress = parseInt(data.loaded / data.total * 100, 10);\n                        if (!settings.editor) {$progress.find('div.js-progress').css({'position': 'absolute', 'top': '40px'}); }\n                        if (settings.progressbar) {\n                            $dropzone.trigger('uploadprogress', [progress, data]);\n                            $progress.find('.js-upload-progress-bar').css('width', progress + '%');\n                        }\n                    },\n                    fail: function (e, data) {\n                        /*jshint unused:false*/\n                        $('.js-button-accept').prop('disabled', false);\n                        $dropzone.trigger('uploadfailure', [data.result]);\n                        $dropzone.find('.js-upload-progress-bar').addClass('fail');\n                        if (data.jqXHR.status === 413) {\n                            $dropzone.find('div.js-fail').text('The image you uploaded was larger than the maximum file size your server allows.');\n                        } else if (data.jqXHR.status === 415) {\n                            $dropzone.find('div.js-fail').text('The image type you uploaded is not supported. Please use .PNG, .JPG, .GIF, .SVG.');\n                        } else {\n                            $dropzone.find('div.js-fail').text('Something went wrong :(');\n                        }\n                        $dropzone.find('div.js-fail, button.js-fail').fadeIn(1500);\n                        $dropzone.find('button.js-fail').on('click', function () {\n                            $dropzone.css({minHeight: 0});\n                            $dropzone.find('div.description').show();\n                            self.removeExtras();\n                            self.init();\n                        });\n                    },\n                    done: function (e, data) {\n                        /*jshint unused:false*/\n                        self.complete(data.result);\n                    }\n                });\n            },\n\n            buildExtras: function () {\n                if (!$dropzone.find('span.media')[0]) {\n                    $dropzone.prepend('<span class=\"media\"><span class=\"hidden\">Image Upload</span></span>');\n                }\n                if (!$dropzone.find('div.description')[0]) {\n                    $dropzone.append('<div class=\"description\">Add image</div>');\n                }\n                if (!$dropzone.find('div.js-fail')[0]) {\n                    $dropzone.append('<div class=\"js-fail failed\" style=\"display: none\">Something went wrong :(</div>');\n                }\n                if (!$dropzone.find('button.js-fail')[0]) {\n                    $dropzone.append('<button class=\"js-fail button-add\" style=\"display: none\">Try Again</button>');\n                }\n                if (!$dropzone.find('a.image-url')[0]) {\n                    $dropzone.append('<a class=\"image-url\" title=\"Add image from URL\"><span class=\"hidden\">URL</span></a>');\n                }\n    //                if (!$dropzone.find('a.image-webcam')[0]) {\n    //                    $dropzone.append('<a class=\"image-webcam\" title=\"Add image from webcam\"><span class=\"hidden\">Webcam</span></a>');\n    //                }\n            },\n\n            removeExtras: function () {\n                $dropzone.find('span.media, div.js-upload-progress, a.image-url, a.image-upload, a.image-webcam, div.js-fail, button.js-fail, a.js-cancel').remove();\n            },\n\n            initWithDropzone: function () {\n                var self = this;\n                //This is the start point if no image exists\n                $dropzone.find('img.js-upload-target').css({'display': 'none'});\n                $dropzone.removeClass('pre-image-uploader image-uploader-url').addClass('image-uploader');\n                this.removeExtras();\n                this.buildExtras();\n                this.bindFileUpload();\n                if (!settings.fileStorage) {\n                    self.initUrl();\n                    return;\n                }\n                $dropzone.find('a.image-url').on('click', function () {\n                    self.initUrl();\n                });\n            },\n            initUrl: function () {\n                var self = this, val;\n                this.removeExtras();\n                $dropzone.addClass('image-uploader-url').removeClass('pre-image-uploader');\n                $dropzone.find('.js-fileupload').addClass('right');\n                if (settings.fileStorage) {\n                    $dropzone.append($cancel);\n                }\n                $dropzone.find('.js-cancel').on('click', function () {\n                    $dropzone.find('.js-url').remove();\n                    $dropzone.find('.js-fileupload').removeClass('right');\n                    self.removeExtras();\n                    self.initWithDropzone();\n                });\n\n                $dropzone.find('div.description').before($url);\n\n                if (settings.editor) {\n                    $dropzone.find('div.js-url').append('<button class=\"js-button-accept button-save\">Save</button>');\n                }\n\n                $dropzone.find('.js-button-accept').on('click', function () {\n                    val = $dropzone.find('.js-upload-url').val();\n                    $dropzone.find('div.description').hide();\n                    $dropzone.find('.js-fileupload').removeClass('right');\n                    $dropzone.find('.js-url').remove();\n                    if (val === '') {\n                        $dropzone.trigger('uploadsuccess', 'http://');\n                        self.initWithDropzone();\n                    } else {\n                        self.complete(val);\n                    }\n                });\n\n                // Only show the toggle icon if there is a dropzone mode to go back to\n                if (settings.fileStorage !== false) {\n                    $dropzone.append('<a class=\"image-upload\" title=\"Add image\"><span class=\"hidden\">Upload</span></a>');\n                }\n\n                $dropzone.find('a.image-upload').on('click', function () {\n                    $dropzone.find('.js-url').remove();\n                    $dropzone.find('.js-fileupload').removeClass('right');\n                    self.initWithDropzone();\n                });\n\n            },\n            initWithImage: function () {\n                var self = this;\n                // This is the start point if an image already exists\n                $dropzone.removeClass('image-uploader image-uploader-url').addClass('pre-image-uploader');\n                $dropzone.find('div.description').hide();\n                $dropzone.append($cancel);\n                $dropzone.find('.js-cancel').on('click', function () {\n                    $dropzone.find('img.js-upload-target').attr({'src': ''});\n                    $dropzone.find('div.description').show();\n                    $dropzone.delay(2500).animate({opacity: 100}, 1000, function () {\n                        self.init();\n                    });\n\n                    $dropzone.trigger('uploadsuccess', 'http://');\n                    self.initWithDropzone();\n                });\n            },\n\n            init: function () {\n                var imageTarget = $dropzone.find('img.js-upload-target');\n                // First check if field image is defined by checking for js-upload-target class\n                if (!imageTarget[0]) {\n                    // This ensures there is an image we can hook into to display uploaded image\n                    $dropzone.prepend('<img class=\"js-upload-target\" style=\"display: none\"  src=\"\" />');\n                }\n                $('.js-button-accept').prop('disabled', false);\n                if (imageTarget.attr('src') === '' || imageTarget.attr('src') === undefined) {\n                    this.initWithDropzone();\n                } else {\n                    this.initWithImage();\n                }\n            }\n        });\n    };\n\n\n    upload = function (options) {\n        var settings = $.extend({\n            progressbar: true,\n            editor: false,\n            fileStorage: true\n        }, options);\n        return this.each(function () {\n            var $dropzone = $(this),\n                ui;\n\n            ui = new UploadUi($dropzone, settings);\n            ui.init();\n        });\n    };\n\n    __exports__[\"default\"] = upload;\n  });"
  ]
}